package uitest1;

import java.awt.Color;
import java.awt.EventQueue;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import java.awt.event.WindowListener;

import javax.swing.JLabel;

import windows.chooseWindows;

public class mylabel extends JLabel implements MouseListener {
	
	private Color choosecolor;
	private Color nochoosecolor;
	boolean ischoose = false;
	private String dayclearinformationString;
	
	
	public Color getChoosecolor() {
		return choosecolor;
	}

	public Color getNochoosecolor() {
		return nochoosecolor;
	}

	public boolean getIschoose() {
		return ischoose;
	}
		
		
	public String getDayclearinformationString() {
		return dayclearinformationString;
	}

	public mylabel() {
		
		super();
		choosecolor = new Color(255,206, 82);
		nochoosecolor = new Color(255,255,255);
		this.setBackground(nochoosecolor);
								
	}

	@Override
	public void mouseClicked(MouseEvent e) {
		
		if (!ischoose) {
			
			this.setBackground(choosecolor);
			ischoose = true;
			
			EventQueue.invokeLater(new Runnable() {
				public void run() {
					try {
						chooseWindows window = new chooseWindows();
						window.getFrame().setVisible(true);
						window.getFrame().addWindowListener(new WindowAdapter() {
							
							public void windowClosed(WindowEvent e) {
								
								dayclearinformationString = window.getdaycheckstate();
								
								if (dayclearinformationString.equals("未选择")) {
									
									setBackground(nochoosecolor);
									ischoose = false;
									
								}


								
								
							};
							
							
						});
						
						
					} catch (Exception e) {
						e.printStackTrace();
					}
				}
			});
			
			
		}
		else {
			
			setBackground(nochoosecolor);
			ischoose = false;
			
		}
		
	}


	@Override
	public void mousePressed(MouseEvent e) {
		// TODO 自动生成的方法存根
		
	}

	@Override
	public void mouseReleased(MouseEvent e) {
		// TODO 自动生成的方法存根
		
	}

	@Override
	public void mouseEntered(MouseEvent e) {
		// TODO 自动生成的方法存根
		
	}

	@Override
	public void mouseExited(MouseEvent e) {
		// TODO 自动生成的方法存根
		
	}
	
	
	

}
